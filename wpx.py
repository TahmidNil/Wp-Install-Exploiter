import requests, os
import time, sys
import string, random
import urllib2,urllib,re
import optparse
from multiprocessing import Pool
from multiprocessing.dummy import Pool as ThreadPool
from platform import system
from urllib import unquote_plus as urldecode

try:
	from colorama import Fore
	from colorama import Style
	from pprint import pprint
	from colorama import init
	from Queue import Queue
except ImportError :
    print 'pip install colorama'
    exit (-1)
init(autoreset=True)

####### Colors ########
fr  =   Fore.RED
fc  =   Fore.CYAN
fw  =   Fore.WHITE
fg  =   Fore.GREEN
sd  =   Style.DIM
sn  =   Style.NORMAL
sb  =   Style.BRIGHT


if system() == 'Linux':
    os.system('clear')
if system() == 'Windows':
	os.system('cls')
	


banner = """{}{} \n \n         
	

                         usage: python wp-install.py list.txt 
 
 

	
 
\n""".format(fc, sb)


print banner
def id_generator(size=6, chars=string.ascii_uppercase + string.ascii_lowercase + string.digits):
    return ''.join(random.choice(chars) for _ in range(size))
	
print "\n\n  Wait Few Sec : \n"

def rev(host):


	try:
	
	
		host = host.strip()
		

		
		
		lib = requests.get(host+"/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
		
  
		lib = requests.get(host+"/wordpress/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wordpress/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/blog/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/blog/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/old/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/old/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/new/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/new/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/test/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/test/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
			
		lib = requests.get(host+"/wp/wp-admin/install.php?step=1")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wp/wp-admin/install.php?step=1'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
		
		
		lib = requests.get(host+"/wordpress/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wordpress/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/wp/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/wp/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/blog/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/blog/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
		lib = requests.get(host+"/old/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/old/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
		lib = requests.get(host+"/new/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/new/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
			
		lib = requests.get(host+"/test/wp-admin/setup-config.php")
				
		if 'Install WordPress' in lib.content:
			print '\r\r\r{}{}[*] {:<60} : {}{}wordpress install Found :D{}{}'.format(fc, sd, host, fr, sb, fg, fr)
			open('wp-install.txt', 'a').write(host+'/test/wp-admin/setup-config.php'+'\n')
		else:
			print '\r\r\r{}{}[*] {:<60} : {}{}Not Found{}{}'.format(fc, sd, host, fw, sb, fg, sd)
			
		
		
			

	except:
		pass
		
		
def main():		

	for i in ListPass:
		try:
			i = i.strip()
			data=rev(i)
		except:
			pass
		
			
			
		
ListPass = open(sys.argv[1], 'r').readlines()
pool = ThreadPool(80)
pool.map(rev, ListPass)
pool.close()
pool.join()


if __name__ == '__main__':		
	print("Finished:) ")			
